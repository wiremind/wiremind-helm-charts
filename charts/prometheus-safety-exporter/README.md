# Safety Prometheus Exporter Helm Chart

## What it is

Safety CLI is a Python dependency vulnerability scanner designed to enhance software supply chain security by detecting packages with known vulnerabilities and malicious packages in local development environments, CI/CD, and production systems. Safety CLI can be deployed in minutes and provides clear, actionable recommendations for remediation of detected vulnerabilities.

Please refer to <https://github.com/pyupio/safety>.

This Helm Chart allows to convert safety output to prometheus metrics.

It requires your python container image containing requirements.txt and safety >= 3.0.0. This must be set in values.yaml.

Note: it means that requirements.txt should not be ignored in `.dockerignore` file.

It exposes a new metric named `safety_vulnerabilities_severity`.

Internally, this is roughly a glue between:

- Safety ran once per day or per deployment
- A simple HTTP server (currently python SimpleHTTPServer)
- json_exporter reading the JSON file generated by Safety.

You can find in `grafana-dashboard` directory a reference Grafana dashboard to be used with Prometheus Operator.
